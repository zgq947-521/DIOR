<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册</title>
    <link rel="stylesheet" href="../font_p5j81dn6id/iconfont.css">
    <link rel="stylesheet" href="../CSS/login.css">
    <link rel="stylesheet" href="../font_i189t9i9pjm/iconfont.css"><!-- 放大镜 -->
    <link rel="stylesheet" href="../font_r1mmu7y04w/iconfont.css">
    <link rel="stylesheet" href="../font_nbapivdvrwb/iconfont.css">
    <link rel="stylesheet" href="../font_e82npflcjng/iconfont.css">

</head>

<body style="height: auto; width: auto; overflow: auto;">
    <div id="all">
        <!-- 头部 -->
        <div id="header">
            <!--  搜索框 -->
            <span id="prev" class="iconfont icon-zuojiantou "></span>
            <!-- 品牌名字 -->
            <div class="header-center">
                <a href="" style="text-decoration: none">
                    <span class="name">DIOR</span>
                </a>
            </div>
            <div class="header-right">
                <span class="iconfont icon-aixin" style="height:23px;font-size: 23px"></span>
                <main>
                    <span class="iconfont icon-yonghu" style="height:23px;font-size: 23px"></span>
                </main>
                <main>
                    <span class="iconfont icon-gouwudai" style="height:23px;font-size: 23px"></span>
                </main>
            </div>
        </div>
        <!-- 内容区 -->
        <div id="bodys">
            <div class="textlist">
                <h1 style="    font-size: 24px !important;
                font-weight: 600 !important;
                color: #636363">注册</h1>
                <ul style="font-size: 14px;color: #636363">
                    如您已是Dior美妆店铺会员，请使用会员手机号码注册，系统将自动绑定您的官网帐号并合并您在官网和店铺的Dior美妆购物积分。</ul>
                <ul style="font-size: 14px;color: #636363">*为必填项目。</ul>
                <ul style="font-size: 14px;color: #636363">
                    姓*<input type="text" placeholder="姓" id="username">
                    名*<input type="text" placeholder="名" id="nametext">
                </ul>
                <ul style="font-size: 14px;color: #636363">
                    电话*<input type="text" placeholder="电话" id="tel">

                    称谓*
                    <select name="" id="" style="font-size: 14px;color: #636363">
                        <option value="" selected="selected">选择称谓</option>
                        <option value="">女士</option>
                        <option value="">先生</option>
                        <option value="">小姐</option>
                    </select>
                </ul>
                <ul style="font-size: 14px;color: #636363">验证码*
                    <input type="text" placeholder="验证码" id="randtext">
                    <input type="text" id="randnum">
                </ul>
                <ul style="font-size: 14px;color: #636363">密码* <input type="text" placeholder="密码" id="password">
                </ul>
                <ul style="font-size: 14px;color: #636363">
                    <input type="checkbox" style="width: 20px;height: 20px;line-height: 20px;">
                    我已阅读并接受个人信息收集声明已经网站使用和销售条款
                </ul>
                <button id="zhuce" style=" width: 54px;
                height: 28px;
                background-color: black;
                color: #fff;
                border-radius:15px;
                cursor: pointer;!important">注册</button>
            </div>

        </div>

        <div id="end">
            <ul class="end-left">
                <li>电子通讯</li>
                <li>立即订阅，掌握迪奥最新动态资讯</li>
                <span class="sousu">
                    <input type="text" placeholder="输入您的邮箱" class="storetext">
                    <span id="sousu-fdj">确定</span>
                </span>
            </ul>
            <ul class="end-center">
                <li>联系</li>
                <li>配送及退货</li>
                <li>常见问题</li>
                <li>一般销售条件</li>
                <li>使用条款</li>
                <li>数据保护章程</li>
                <span class="end-span">
                    <li>
                        <img src="../images/china-3.png" alt="">
                        电子营业执照
                    </li>
                    <li>
                        <img src="../images/china-0.png" alt="">
                        沪公网安备3101060200034号
                    </li>
                    <li>
                        <img src="../images/china-1.png" alt="">
                        沪ICP备19005922号
                    </li>
                    <li>尚圃电子商务（上海）有限公司</li>
                    <li>上海市南京西路1266号恒隆广场1期29F </li>
                </span>
            </ul>
            <ul class="end-right">
                <li>关注我们</li>
                <li>
                    <img src="../images/images/图标_03.gif" alt="">
                    <img src="../images/images/图标_05.gif" alt="">
                </li>
                <li>国家/地区</li>
                <span class="sousu">
                    <input type="text" placeholder="请输入您的国家或地区" class="storetext">
                    <span id="sousu-fdj">确定</span>
                </span>
            </ul>
        </div>
    </div>

</body>
<!-- <script src="../JS/machine.js"></script> -->
<script src="../JS/jquery.min.js"></script>
<script>
    /* 表单验证 */
    function verifyCode(n) {
        let count = n || 4;
        let arr = ["q", "a", "z", "x", "s", "w", "e", "d", "c", "v", "f", "r", "t", "g", "b", "n", "h", "y", "u", "j",
            "m", "k", "i", "o", "l", "p", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"
        ];
        let result = "";
        for (let i = 0; i < count; i++) {
            var index = Math.floor(Math.random() * arr.length)
            result = result + arr[index];
        }
        return result;
    }
    $("#randnum")[0].value = verifyCode(4)
    $("#zhuce").click(function () {
        console.log()
        if (!$("#username").val() || !$("#nametext").val() || !$("#password").val()) {
            alert("请输入用户名")
            return;
        }
        /* 发送Ajax请求 */
        let http = new XMLHttpRequest()
        http.open("get",
            `http://192.168.1.102:8080/adduser?username=${$("#username").val()}+${$("#nametext").val()}&password=${$("#password").val()}`
        )
        http.send()
        http.onreadystatechange = function () {
            if (http.readyState === 4) {
                if (http.responseText === "success") {
                    alert("注册成功")
                    location.href = "http://192.168.1.102/dior/index/login.html";
                } else {
                    alert("用户名或密码错误")
                }
            }
        }
    })
</script>

</html>